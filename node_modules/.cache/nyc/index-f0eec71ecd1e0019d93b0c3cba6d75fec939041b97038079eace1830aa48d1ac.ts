"use strict";function cov_1unexoy2ee(){var path="/home/richey/Projects/quando/src/index.ts";var hash="b476fc3d68cbca9f2891f3d389fcb04bac7bf7bc";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/richey/Projects/quando/src/index.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:39}},"2":{start:{line:4,column:32},end:{line:23,column:3}},"3":{start:{line:6,column:8},end:{line:6,column:49}},"4":{start:{line:7,column:8},end:{line:7,column:42}},"5":{start:{line:8,column:8},end:{line:8,column:45}},"6":{start:{line:10,column:4},end:{line:13,column:6}},"7":{start:{line:11,column:8},end:{line:11,column:35}},"8":{start:{line:12,column:8},end:{line:12,column:49}},"9":{start:{line:14,column:4},end:{line:21,column:6}},"10":{start:{line:15,column:8},end:{line:20,column:9}},"11":{start:{line:16,column:12},end:{line:16,column:28}},"12":{start:{line:19,column:12},end:{line:19,column:26}},"13":{start:{line:22,column:4},end:{line:22,column:22}},"14":{start:{line:24,column:35},end:{line:39,column:3}},"15":{start:{line:26,column:8},end:{line:26,column:37}},"16":{start:{line:28,column:4},end:{line:31,column:6}},"17":{start:{line:29,column:8},end:{line:29,column:56}},"18":{start:{line:30,column:8},end:{line:30,column:20}},"19":{start:{line:32,column:4},end:{line:37,column:6}},"20":{start:{line:33,column:8},end:{line:35,column:9}},"21":{start:{line:34,column:12},end:{line:34,column:42}},"22":{start:{line:36,column:8},end:{line:36,column:59}},"23":{start:{line:38,column:4},end:{line:38,column:25}},"24":{start:{line:41,column:4},end:{line:41,column:70}},"25":{start:{line:43,column:0},end:{line:43,column:20}},"26":{start:{line:44,column:37},end:{line:55,column:3}},"27":{start:{line:46,column:8},end:{line:46,column:37}},"28":{start:{line:48,column:4},end:{line:53,column:6}},"29":{start:{line:49,column:8},end:{line:51,column:9}},"30":{start:{line:50,column:12},end:{line:50,column:42}},"31":{start:{line:52,column:8},end:{line:52,column:59}},"32":{start:{line:54,column:4},end:{line:54,column:27}},"33":{start:{line:57,column:4},end:{line:57,column:73}},"34":{start:{line:59,column:0},end:{line:59,column:24}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:32},end:{line:4,column:33}},loc:{start:{line:4,column:44},end:{line:23,column:1}},line:4},"1":{name:"Controller",decl:{start:{line:5,column:13},end:{line:5,column:23}},loc:{start:{line:5,column:61},end:{line:9,column:5}},line:5},"2":{name:"(anonymous_2)",decl:{start:{line:10,column:40},end:{line:10,column:41}},loc:{start:{line:10,column:69},end:{line:13,column:5}},line:10},"3":{name:"(anonymous_3)",decl:{start:{line:14,column:41},end:{line:14,column:42}},loc:{start:{line:14,column:59},end:{line:21,column:5}},line:14},"4":{name:"(anonymous_4)",decl:{start:{line:24,column:35},end:{line:24,column:36}},loc:{start:{line:24,column:47},end:{line:39,column:1}},line:24},"5":{name:"WhenCondition",decl:{start:{line:25,column:13},end:{line:25,column:26}},loc:{start:{line:25,column:39},end:{line:27,column:5}},line:25},"6":{name:"(anonymous_6)",decl:{start:{line:28,column:39},end:{line:28,column:40}},loc:{start:{line:28,column:68},end:{line:31,column:5}},line:28},"7":{name:"(anonymous_7)",decl:{start:{line:32,column:34},end:{line:32,column:35}},loc:{start:{line:32,column:58},end:{line:37,column:5}},line:32},"8":{name:"When",decl:{start:{line:40,column:9},end:{line:40,column:13}},loc:{start:{line:40,column:33},end:{line:42,column:1}},line:40},"9":{name:"(anonymous_9)",decl:{start:{line:44,column:37},end:{line:44,column:38}},loc:{start:{line:44,column:49},end:{line:55,column:1}},line:44},"10":{name:"UnlessCondition",decl:{start:{line:45,column:13},end:{line:45,column:28}},loc:{start:{line:45,column:41},end:{line:47,column:5}},line:45},"11":{name:"(anonymous_11)",decl:{start:{line:48,column:36},end:{line:48,column:37}},loc:{start:{line:48,column:60},end:{line:53,column:5}},line:48},"12":{name:"Unless",decl:{start:{line:56,column:9},end:{line:56,column:15}},loc:{start:{line:56,column:35},end:{line:58,column:1}},line:56}},branchMap:{"0":{loc:{start:{line:15,column:8},end:{line:20,column:9}},type:"if",locations:[{start:{line:15,column:8},end:{line:20,column:9}},{start:{line:15,column:8},end:{line:20,column:9}}],line:15},"1":{loc:{start:{line:33,column:8},end:{line:35,column:9}},type:"if",locations:[{start:{line:33,column:8},end:{line:35,column:9}},{start:{line:33,column:8},end:{line:35,column:9}}],line:33},"2":{loc:{start:{line:49,column:8},end:{line:51,column:9}},type:"if",locations:[{start:{line:49,column:8},end:{line:51,column:9}},{start:{line:49,column:8},end:{line:51,column:9}}],line:49}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},inputSourceMap:{version:3,file:"/home/richey/Projects/quando/src/index.ts",sources:["/home/richey/Projects/quando/src/index.ts"],names:[],mappings:";;;AAYA;IAIE,oBACE,gBAAyB,EACzB,SAAkB,EAClB,MAAsB;QAEtB,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;QACzC,IAAI,CAAC,SAAS,GAAG,gBAAgB,CAAC;QAClC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IACvC,CAAC;IACD,iCAAY,GAAZ,UAAa,SAAkB,EAAE,MAAsB;QACrD,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IAC3C,CAAC;IAED,kCAAa,GAAb,UAAc,MAAsB;QAClC,IAAI,MAAM,YAAY,QAAQ,EAAE;YAC9B,OAAO,MAAM,EAAE,CAAC;SACjB;aAAM;YACL,OAAO,MAAM,CAAC;SACf;IACH,CAAC;IACH,iBAAC;AAAD,CAAC,AAzBD,IAyBC;AAED;IAGE,uBAAY,UAAyB;QACnC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;IAC/B,CAAC;IACD,gCAAQ,GAAR,UAAS,SAAkB,EAAE,MAAsB;QACjD,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAChD,OAAO,IAAI,CAAC;IACd,CAAC;IACD,2BAAG,GAAH,UAAI,YAA6B;QAC/B,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE;YAC7B,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;SAC/B;QACD,OAAO,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;IACrD,CAAC;IACH,oBAAC;AAAD,CAAC,AAhBD,IAgBC;AAED,SAAgB,IAAI,CAAI,SAAkB,EAAE,MAAuB;IACjE,OAAO,IAAI,aAAa,CAAI,IAAI,UAAU,CAAI,IAAI,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC;AAC1E,CAAC;AAFD,oBAEC;AAED;IAGE,yBAAY,UAAyB;QACnC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;IAC/B,CAAC;IACD,6BAAG,GAAH,UAAI,YAA6B;QAC/B,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,KAAK,KAAK,EAAE;YACvC,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;SAC/B;QACD,OAAO,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;IACrD,CAAC;IACH,sBAAC;AAAD,CAAC,AAZD,IAYC;AAED,SAAgB,MAAM,CAAI,SAAkB,EAAE,MAAsB;IAClE,OAAO,IAAI,eAAe,CAAI,IAAI,UAAU,CAAI,KAAK,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC;AAC7E,CAAC;AAFD,wBAEC",sourcesContent:["type QuandoResult<R> = R | undefined;\ntype QuandoParam<R> = R | (() => R) | undefined;\n\ninterface QuandoConditonal<R> {\n  result: QuandoResult<R>;\n  condition: Boolean;\n  end: (result: R) => QuandoResult<R>;\n}\ninterface WhenConditonal<R> extends QuandoConditonal<R> {\n  elseWhen: (condition: Boolean, result: R) => QuandoConditonal<R>;\n}\n\nclass Controller<R> {\n  defaultCondition: Boolean;\n  condition: Boolean;\n  result: QuandoResult<R>;\n  constructor(\n    defaultCondition: Boolean,\n    condition: Boolean,\n    result: QuandoParam<R>\n  ) {\n    this.defaultCondition = defaultCondition;\n    this.condition = defaultCondition;\n    this.updateResult(condition, result);\n  }\n  updateResult(condition: Boolean, result: QuandoParam<R>) {\n    this.condition = condition;\n    this.result = this.extractResult(result);\n  }\n\n  extractResult(result: QuandoParam<R>) {\n    if (result instanceof Function) {\n      return result();\n    } else {\n      return result;\n    }\n  }\n}\n\nclass WhenCondition<R> {\n  controller: Controller<R>;\n\n  constructor(controller: Controller<R>) {\n    this.controller = controller;\n  }\n  elseWhen(condition: Boolean, result: QuandoParam<R>) {\n    this.controller.updateResult(condition, result);\n    return this;\n  }\n  end(defaultValue?: QuandoParam<R>) {\n    if (this.controller.condition) {\n      return this.controller.result;\n    }\n    return this.controller.extractResult(defaultValue);\n  }\n}\n\nexport function When<R>(condition: Boolean, result?: QuandoParam<R>) {\n  return new WhenCondition<R>(new Controller<R>(true, condition, result));\n}\n\nclass UnlessCondition<R> {\n  controller: Controller<R>;\n\n  constructor(controller: Controller<R>) {\n    this.controller = controller;\n  }\n  end(defaultValue?: QuandoParam<R>) {\n    if (this.controller.condition === false) {\n      return this.controller.result;\n    }\n    return this.controller.extractResult(defaultValue);\n  }\n}\n\nexport function Unless<R>(condition: Boolean, result: QuandoParam<R>) {\n  return new UnlessCondition<R>(new Controller<R>(false, condition, result));\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b476fc3d68cbca9f2891f3d389fcb04bac7bf7bc"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1unexoy2ee=function(){return actualCoverage;};}return actualCoverage;}cov_1unexoy2ee();cov_1unexoy2ee().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1unexoy2ee().s[1]++;exports.Unless=exports.When=void 0;var Controller=(/** @class */cov_1unexoy2ee().s[2]++,function(){cov_1unexoy2ee().f[0]++;function Controller(defaultCondition,condition,result){cov_1unexoy2ee().f[1]++;cov_1unexoy2ee().s[3]++;this.defaultCondition=defaultCondition;cov_1unexoy2ee().s[4]++;this.condition=defaultCondition;cov_1unexoy2ee().s[5]++;this.updateResult(condition,result);}cov_1unexoy2ee().s[6]++;Controller.prototype.updateResult=function(condition,result){cov_1unexoy2ee().f[2]++;cov_1unexoy2ee().s[7]++;this.condition=condition;cov_1unexoy2ee().s[8]++;this.result=this.extractResult(result);};cov_1unexoy2ee().s[9]++;Controller.prototype.extractResult=function(result){cov_1unexoy2ee().f[3]++;cov_1unexoy2ee().s[10]++;if(result instanceof Function){cov_1unexoy2ee().b[0][0]++;cov_1unexoy2ee().s[11]++;return result();}else{cov_1unexoy2ee().b[0][1]++;cov_1unexoy2ee().s[12]++;return result;}};cov_1unexoy2ee().s[13]++;return Controller;}());var WhenCondition=(/** @class */cov_1unexoy2ee().s[14]++,function(){cov_1unexoy2ee().f[4]++;function WhenCondition(controller){cov_1unexoy2ee().f[5]++;cov_1unexoy2ee().s[15]++;this.controller=controller;}cov_1unexoy2ee().s[16]++;WhenCondition.prototype.elseWhen=function(condition,result){cov_1unexoy2ee().f[6]++;cov_1unexoy2ee().s[17]++;this.controller.updateResult(condition,result);cov_1unexoy2ee().s[18]++;return this;};cov_1unexoy2ee().s[19]++;WhenCondition.prototype.end=function(defaultValue){cov_1unexoy2ee().f[7]++;cov_1unexoy2ee().s[20]++;if(this.controller.condition){cov_1unexoy2ee().b[1][0]++;cov_1unexoy2ee().s[21]++;return this.controller.result;}else{cov_1unexoy2ee().b[1][1]++;}cov_1unexoy2ee().s[22]++;return this.controller.extractResult(defaultValue);};cov_1unexoy2ee().s[23]++;return WhenCondition;}());function When(condition,result){cov_1unexoy2ee().f[8]++;cov_1unexoy2ee().s[24]++;return new WhenCondition(new Controller(true,condition,result));}cov_1unexoy2ee().s[25]++;exports.When=When;var UnlessCondition=(/** @class */cov_1unexoy2ee().s[26]++,function(){cov_1unexoy2ee().f[9]++;function UnlessCondition(controller){cov_1unexoy2ee().f[10]++;cov_1unexoy2ee().s[27]++;this.controller=controller;}cov_1unexoy2ee().s[28]++;UnlessCondition.prototype.end=function(defaultValue){cov_1unexoy2ee().f[11]++;cov_1unexoy2ee().s[29]++;if(this.controller.condition===false){cov_1unexoy2ee().b[2][0]++;cov_1unexoy2ee().s[30]++;return this.controller.result;}else{cov_1unexoy2ee().b[2][1]++;}cov_1unexoy2ee().s[31]++;return this.controller.extractResult(defaultValue);};cov_1unexoy2ee().s[32]++;return UnlessCondition;}());function Unless(condition,result){cov_1unexoy2ee().f[12]++;cov_1unexoy2ee().s[33]++;return new UnlessCondition(new Controller(false,condition,result));}cov_1unexoy2ee().s[34]++;exports.Unless=Unless;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvcmljaGV5L1Byb2plY3RzL3F1YW5kby9zcmMvaW5kZXgudHMiLCJzb3VyY2VzIjpbIi9ob21lL3JpY2hleS9Qcm9qZWN0cy9xdWFuZG8vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQVlBO0lBSUUsb0JBQ0UsZ0JBQXlCLEVBQ3pCLFNBQWtCLEVBQ2xCLE1BQXNCO1FBRXRCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxnQkFBZ0IsQ0FBQztRQUN6QyxJQUFJLENBQUMsU0FBUyxHQUFHLGdCQUFnQixDQUFDO1FBQ2xDLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFDRCxpQ0FBWSxHQUFaLFVBQWEsU0FBa0IsRUFBRSxNQUFzQjtRQUNyRCxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQUVELGtDQUFhLEdBQWIsVUFBYyxNQUFzQjtRQUNsQyxJQUFJLE1BQU0sWUFBWSxRQUFRLEVBQUU7WUFDOUIsT0FBTyxNQUFNLEVBQUUsQ0FBQztTQUNqQjthQUFNO1lBQ0wsT0FBTyxNQUFNLENBQUM7U0FDZjtJQUNILENBQUM7SUFDSCxpQkFBQztBQUFELENBQUMsQUF6QkQsSUF5QkM7QUFFRDtJQUdFLHVCQUFZLFVBQXlCO1FBQ25DLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO0lBQy9CLENBQUM7SUFDRCxnQ0FBUSxHQUFSLFVBQVMsU0FBa0IsRUFBRSxNQUFzQjtRQUNqRCxJQUFJLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDaEQsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBQ0QsMkJBQUcsR0FBSCxVQUFJLFlBQTZCO1FBQy9CLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLEVBQUU7WUFDN0IsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQztTQUMvQjtRQUNELE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUNILG9CQUFDO0FBQUQsQ0FBQyxBQWhCRCxJQWdCQztBQUVELFNBQWdCLElBQUksQ0FBSSxTQUFrQixFQUFFLE1BQXVCO0lBQ2pFLE9BQU8sSUFBSSxhQUFhLENBQUksSUFBSSxVQUFVLENBQUksSUFBSSxFQUFFLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQzFFLENBQUM7QUFGRCxvQkFFQztBQUVEO0lBR0UseUJBQVksVUFBeUI7UUFDbkMsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7SUFDL0IsQ0FBQztJQUNELDZCQUFHLEdBQUgsVUFBSSxZQUE2QjtRQUMvQixJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxLQUFLLEtBQUssRUFBRTtZQUN2QyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDO1NBQy9CO1FBQ0QsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBQ0gsc0JBQUM7QUFBRCxDQUFDLEFBWkQsSUFZQztBQUVELFNBQWdCLE1BQU0sQ0FBSSxTQUFrQixFQUFFLE1BQXNCO0lBQ2xFLE9BQU8sSUFBSSxlQUFlLENBQUksSUFBSSxVQUFVLENBQUksS0FBSyxFQUFFLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQzdFLENBQUM7QUFGRCx3QkFFQyIsInNvdXJjZXNDb250ZW50IjpbInR5cGUgUXVhbmRvUmVzdWx0PFI+ID0gUiB8IHVuZGVmaW5lZDtcbnR5cGUgUXVhbmRvUGFyYW08Uj4gPSBSIHwgKCgpID0+IFIpIHwgdW5kZWZpbmVkO1xuXG5pbnRlcmZhY2UgUXVhbmRvQ29uZGl0b25hbDxSPiB7XG4gIHJlc3VsdDogUXVhbmRvUmVzdWx0PFI+O1xuICBjb25kaXRpb246IEJvb2xlYW47XG4gIGVuZDogKHJlc3VsdDogUikgPT4gUXVhbmRvUmVzdWx0PFI+O1xufVxuaW50ZXJmYWNlIFdoZW5Db25kaXRvbmFsPFI+IGV4dGVuZHMgUXVhbmRvQ29uZGl0b25hbDxSPiB7XG4gIGVsc2VXaGVuOiAoY29uZGl0aW9uOiBCb29sZWFuLCByZXN1bHQ6IFIpID0+IFF1YW5kb0NvbmRpdG9uYWw8Uj47XG59XG5cbmNsYXNzIENvbnRyb2xsZXI8Uj4ge1xuICBkZWZhdWx0Q29uZGl0aW9uOiBCb29sZWFuO1xuICBjb25kaXRpb246IEJvb2xlYW47XG4gIHJlc3VsdDogUXVhbmRvUmVzdWx0PFI+O1xuICBjb25zdHJ1Y3RvcihcbiAgICBkZWZhdWx0Q29uZGl0aW9uOiBCb29sZWFuLFxuICAgIGNvbmRpdGlvbjogQm9vbGVhbixcbiAgICByZXN1bHQ6IFF1YW5kb1BhcmFtPFI+XG4gICkge1xuICAgIHRoaXMuZGVmYXVsdENvbmRpdGlvbiA9IGRlZmF1bHRDb25kaXRpb247XG4gICAgdGhpcy5jb25kaXRpb24gPSBkZWZhdWx0Q29uZGl0aW9uO1xuICAgIHRoaXMudXBkYXRlUmVzdWx0KGNvbmRpdGlvbiwgcmVzdWx0KTtcbiAgfVxuICB1cGRhdGVSZXN1bHQoY29uZGl0aW9uOiBCb29sZWFuLCByZXN1bHQ6IFF1YW5kb1BhcmFtPFI+KSB7XG4gICAgdGhpcy5jb25kaXRpb24gPSBjb25kaXRpb247XG4gICAgdGhpcy5yZXN1bHQgPSB0aGlzLmV4dHJhY3RSZXN1bHQocmVzdWx0KTtcbiAgfVxuXG4gIGV4dHJhY3RSZXN1bHQocmVzdWx0OiBRdWFuZG9QYXJhbTxSPikge1xuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgcmV0dXJuIHJlc3VsdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBXaGVuQ29uZGl0aW9uPFI+IHtcbiAgY29udHJvbGxlcjogQ29udHJvbGxlcjxSPjtcblxuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyOiBDb250cm9sbGVyPFI+KSB7XG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgfVxuICBlbHNlV2hlbihjb25kaXRpb246IEJvb2xlYW4sIHJlc3VsdDogUXVhbmRvUGFyYW08Uj4pIHtcbiAgICB0aGlzLmNvbnRyb2xsZXIudXBkYXRlUmVzdWx0KGNvbmRpdGlvbiwgcmVzdWx0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBlbmQoZGVmYXVsdFZhbHVlPzogUXVhbmRvUGFyYW08Uj4pIHtcbiAgICBpZiAodGhpcy5jb250cm9sbGVyLmNvbmRpdGlvbikge1xuICAgICAgcmV0dXJuIHRoaXMuY29udHJvbGxlci5yZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIuZXh0cmFjdFJlc3VsdChkZWZhdWx0VmFsdWUpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBXaGVuPFI+KGNvbmRpdGlvbjogQm9vbGVhbiwgcmVzdWx0PzogUXVhbmRvUGFyYW08Uj4pIHtcbiAgcmV0dXJuIG5ldyBXaGVuQ29uZGl0aW9uPFI+KG5ldyBDb250cm9sbGVyPFI+KHRydWUsIGNvbmRpdGlvbiwgcmVzdWx0KSk7XG59XG5cbmNsYXNzIFVubGVzc0NvbmRpdGlvbjxSPiB7XG4gIGNvbnRyb2xsZXI6IENvbnRyb2xsZXI8Uj47XG5cbiAgY29uc3RydWN0b3IoY29udHJvbGxlcjogQ29udHJvbGxlcjxSPikge1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gIH1cbiAgZW5kKGRlZmF1bHRWYWx1ZT86IFF1YW5kb1BhcmFtPFI+KSB7XG4gICAgaWYgKHRoaXMuY29udHJvbGxlci5jb25kaXRpb24gPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLnJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY29udHJvbGxlci5leHRyYWN0UmVzdWx0KGRlZmF1bHRWYWx1ZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVubGVzczxSPihjb25kaXRpb246IEJvb2xlYW4sIHJlc3VsdDogUXVhbmRvUGFyYW08Uj4pIHtcbiAgcmV0dXJuIG5ldyBVbmxlc3NDb25kaXRpb248Uj4obmV3IENvbnRyb2xsZXI8Uj4oZmFsc2UsIGNvbmRpdGlvbiwgcmVzdWx0KSk7XG59XG4iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3JpY2hleS9Qcm9qZWN0cy9xdWFuZG8vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIrNFJBZ0NNO3VPQXBCTixHQUFBLENBQUEsVUFBQSxFQUFBLGFBQUEsd0JBQUEsVUFBQSx5QkFJRSxRQUFBLENBQUEsVUFBQSxDQUNFLGdCQURGLENBRUUsU0FGRixDQUdFLE1BSEYsQ0FHd0IsaURBRXRCLEtBQUssZ0JBQUwsQ0FBd0IsZ0JBQXhCLENBRnNCLHdCQUd0QixLQUFLLFNBQUwsQ0FBaUIsZ0JBQWpCLENBSHNCLHdCQUl0QixLQUFLLFlBQUwsQ0FBa0IsU0FBbEIsQ0FBNkIsTUFBN0IsRUFDRCxDQVpILHdCQWFFLFVBQUEsQ0FBQSxTQUFBLENBQUEsWUFBQSxDQUFBLFNBQWEsU0FBYixDQUFpQyxNQUFqQyxDQUF1RCxpREFDckQsS0FBSyxTQUFMLENBQWlCLFNBQWpCLENBRHFELHdCQUVyRCxLQUFLLE1BQUwsQ0FBYyxLQUFLLGFBQUwsQ0FBbUIsTUFBbkIsQ0FBZCxDQUNELENBSEQsQ0FiRix3QkFrQkUsVUFBQSxDQUFBLFNBQUEsQ0FBQSxhQUFBLENBQUEsU0FBYyxNQUFkLENBQW9DLGtEQUNsQyxHQUFJLE1BQU0sV0FBWSxDQUFBLFFBQXRCLENBQWdDLHFEQUM5QixNQUFPLENBQUEsTUFBTSxFQUFiLENBQ0QsQ0FGRCxJQUVPLHFEQUNMLE1BQU8sQ0FBQSxNQUFQLENBQ0QsQ0FDRixDQU5ELENBbEJGLHlCQXlCQSxNQUFBLENBQUEsVUFBQSxDQUFDLENBekJELEVBQUEsQ0FBQSxDQTJCQSxHQUFBLENBQUEsYUFBQSxFQUFBLGFBQUEseUJBQUEsVUFBQSx5QkFHRSxRQUFBLENBQUEsYUFBQSxDQUFZLFVBQVosQ0FBcUMsa0RBQ25DLEtBQUssVUFBTCxDQUFrQixVQUFsQixDQUNELENBTEgseUJBTUUsYUFBQSxDQUFBLFNBQUEsQ0FBQSxRQUFBLENBQUEsU0FBUyxTQUFULENBQTZCLE1BQTdCLENBQW1ELGtEQUNqRCxLQUFLLFVBQUwsQ0FBZ0IsWUFBaEIsQ0FBNkIsU0FBN0IsQ0FBd0MsTUFBeEMsRUFEaUQseUJBRWpELE1BQU8sS0FBUCxDQUNELENBSEQsQ0FORix5QkFVRSxhQUFBLENBQUEsU0FBQSxDQUFBLEdBQUEsQ0FBQSxTQUFJLFlBQUosQ0FBaUMsa0RBQy9CLEdBQUksS0FBSyxVQUFMLENBQWdCLFNBQXBCLENBQStCLHFEQUM3QixNQUFPLE1BQUssVUFBTCxDQUFnQixNQUF2QixDQUNELENBRkQsaUNBRCtCLHlCQUkvQixNQUFPLE1BQUssVUFBTCxDQUFnQixhQUFoQixDQUE4QixZQUE5QixDQUFQLENBQ0QsQ0FMRCxDQVZGLHlCQWdCQSxNQUFBLENBQUEsYUFBQSxDQUFDLENBaEJELEVBQUEsQ0FBQSxDQWtCQSxRQUFnQixDQUFBLElBQWhCLENBQXdCLFNBQXhCLENBQTRDLE1BQTVDLENBQW1FLGtEQUNqRSxNQUFPLElBQUksQ0FBQSxhQUFKLENBQXFCLEdBQUksQ0FBQSxVQUFKLENBQWtCLElBQWxCLENBQXdCLFNBQXhCLENBQW1DLE1BQW5DLENBQXJCLENBQVAsQ0FDRCxDLHlCQUZELE9BQUEsQ0FBQSxJQUFBLENBQUEsSUFBQSxDQUlBLEdBQUEsQ0FBQSxlQUFBLEVBQUEsYUFBQSx5QkFBQSxVQUFBLHlCQUdFLFFBQUEsQ0FBQSxlQUFBLENBQVksVUFBWixDQUFxQyxtREFDbkMsS0FBSyxVQUFMLENBQWtCLFVBQWxCLENBQ0QsQ0FMSCx5QkFNRSxlQUFBLENBQUEsU0FBQSxDQUFBLEdBQUEsQ0FBQSxTQUFJLFlBQUosQ0FBaUMsbURBQy9CLEdBQUksS0FBSyxVQUFMLENBQWdCLFNBQWhCLEdBQThCLEtBQWxDLENBQXlDLHFEQUN2QyxNQUFPLE1BQUssVUFBTCxDQUFnQixNQUF2QixDQUNELENBRkQsaUNBRCtCLHlCQUkvQixNQUFPLE1BQUssVUFBTCxDQUFnQixhQUFoQixDQUE4QixZQUE5QixDQUFQLENBQ0QsQ0FMRCxDQU5GLHlCQVlBLE1BQUEsQ0FBQSxlQUFBLENBQUMsQ0FaRCxFQUFBLENBQUEsQ0FjQSxRQUFnQixDQUFBLE1BQWhCLENBQTBCLFNBQTFCLENBQThDLE1BQTlDLENBQW9FLG1EQUNsRSxNQUFPLElBQUksQ0FBQSxlQUFKLENBQXVCLEdBQUksQ0FBQSxVQUFKLENBQWtCLEtBQWxCLENBQXlCLFNBQXpCLENBQW9DLE1BQXBDLENBQXZCLENBQVAsQ0FDRCxDLHlCQUZELE9BQUEsQ0FBQSxNQUFBLENBQUEsTUFBQSxDIiwic291cmNlc0NvbnRlbnQiOlsidHlwZSBRdWFuZG9SZXN1bHQ8Uj4gPSBSIHwgdW5kZWZpbmVkO1xudHlwZSBRdWFuZG9QYXJhbTxSPiA9IFIgfCAoKCkgPT4gUikgfCB1bmRlZmluZWQ7XG5cbmludGVyZmFjZSBRdWFuZG9Db25kaXRvbmFsPFI+IHtcbiAgcmVzdWx0OiBRdWFuZG9SZXN1bHQ8Uj47XG4gIGNvbmRpdGlvbjogQm9vbGVhbjtcbiAgZW5kOiAocmVzdWx0OiBSKSA9PiBRdWFuZG9SZXN1bHQ8Uj47XG59XG5pbnRlcmZhY2UgV2hlbkNvbmRpdG9uYWw8Uj4gZXh0ZW5kcyBRdWFuZG9Db25kaXRvbmFsPFI+IHtcbiAgZWxzZVdoZW46IChjb25kaXRpb246IEJvb2xlYW4sIHJlc3VsdDogUikgPT4gUXVhbmRvQ29uZGl0b25hbDxSPjtcbn1cblxuY2xhc3MgQ29udHJvbGxlcjxSPiB7XG4gIGRlZmF1bHRDb25kaXRpb246IEJvb2xlYW47XG4gIGNvbmRpdGlvbjogQm9vbGVhbjtcbiAgcmVzdWx0OiBRdWFuZG9SZXN1bHQ8Uj47XG4gIGNvbnN0cnVjdG9yKFxuICAgIGRlZmF1bHRDb25kaXRpb246IEJvb2xlYW4sXG4gICAgY29uZGl0aW9uOiBCb29sZWFuLFxuICAgIHJlc3VsdDogUXVhbmRvUGFyYW08Uj5cbiAgKSB7XG4gICAgdGhpcy5kZWZhdWx0Q29uZGl0aW9uID0gZGVmYXVsdENvbmRpdGlvbjtcbiAgICB0aGlzLmNvbmRpdGlvbiA9IGRlZmF1bHRDb25kaXRpb247XG4gICAgdGhpcy51cGRhdGVSZXN1bHQoY29uZGl0aW9uLCByZXN1bHQpO1xuICB9XG4gIHVwZGF0ZVJlc3VsdChjb25kaXRpb246IEJvb2xlYW4sIHJlc3VsdDogUXVhbmRvUGFyYW08Uj4pIHtcbiAgICB0aGlzLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcbiAgICB0aGlzLnJlc3VsdCA9IHRoaXMuZXh0cmFjdFJlc3VsdChyZXN1bHQpO1xuICB9XG5cbiAgZXh0cmFjdFJlc3VsdChyZXN1bHQ6IFF1YW5kb1BhcmFtPFI+KSB7XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICByZXR1cm4gcmVzdWx0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG59XG5cbmNsYXNzIFdoZW5Db25kaXRpb248Uj4ge1xuICBjb250cm9sbGVyOiBDb250cm9sbGVyPFI+O1xuXG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXI6IENvbnRyb2xsZXI8Uj4pIHtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICB9XG4gIGVsc2VXaGVuKGNvbmRpdGlvbjogQm9vbGVhbiwgcmVzdWx0OiBRdWFuZG9QYXJhbTxSPikge1xuICAgIHRoaXMuY29udHJvbGxlci51cGRhdGVSZXN1bHQoY29uZGl0aW9uLCByZXN1bHQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGVuZChkZWZhdWx0VmFsdWU/OiBRdWFuZG9QYXJhbTxSPikge1xuICAgIGlmICh0aGlzLmNvbnRyb2xsZXIuY29uZGl0aW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLnJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY29udHJvbGxlci5leHRyYWN0UmVzdWx0KGRlZmF1bHRWYWx1ZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFdoZW48Uj4oY29uZGl0aW9uOiBCb29sZWFuLCByZXN1bHQ/OiBRdWFuZG9QYXJhbTxSPikge1xuICByZXR1cm4gbmV3IFdoZW5Db25kaXRpb248Uj4obmV3IENvbnRyb2xsZXI8Uj4odHJ1ZSwgY29uZGl0aW9uLCByZXN1bHQpKTtcbn1cblxuY2xhc3MgVW5sZXNzQ29uZGl0aW9uPFI+IHtcbiAgY29udHJvbGxlcjogQ29udHJvbGxlcjxSPjtcblxuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyOiBDb250cm9sbGVyPFI+KSB7XG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgfVxuICBlbmQoZGVmYXVsdFZhbHVlPzogUXVhbmRvUGFyYW08Uj4pIHtcbiAgICBpZiAodGhpcy5jb250cm9sbGVyLmNvbmRpdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIucmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLmV4dHJhY3RSZXN1bHQoZGVmYXVsdFZhbHVlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVW5sZXNzPFI+KGNvbmRpdGlvbjogQm9vbGVhbiwgcmVzdWx0OiBRdWFuZG9QYXJhbTxSPikge1xuICByZXR1cm4gbmV3IFVubGVzc0NvbmRpdGlvbjxSPihuZXcgQ29udHJvbGxlcjxSPihmYWxzZSwgY29uZGl0aW9uLCByZXN1bHQpKTtcbn1cbiJdfQ==