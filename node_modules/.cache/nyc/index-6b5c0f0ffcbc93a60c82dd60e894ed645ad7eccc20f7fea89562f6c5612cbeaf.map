{"version":3,"file":"/home/richey/Projects/quando/src/index.ts","sources":["/home/richey/Projects/quando/src/index.ts"],"names":[],"mappings":";;;AASA;IAIE,uBAAY,SAAkB,EAAE,MAAiC;QAC/D,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IACvC,CAAC;IACD,gCAAQ,GAAR,UAAS,SAAkB,EAAE,MAAiC;QAC5D,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QACrC,OAAO,IAAI,CAAC;IACd,CAAC;IACD,2BAAG,GAAH,UAAI,YAAe;QACjB,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,OAAO,IAAI,CAAC,MAAM,CAAC;SACpB;QACD,OAAO,YAAY,CAAC;IACtB,CAAC;IAED,oCAAY,GAAZ,UAAa,SAAkB,EAAE,MAAiC;QAChE,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,SAAS,EAAE;YAChC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;YAC3B,IAAI,MAAM,YAAY,QAAQ,EAAE;gBAC9B,IAAI,CAAC,MAAM,GAAG,MAAM,EAAE,CAAC;aACxB;iBAAM;gBACL,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;aACtB;SACF;IACH,CAAC;IACH,oBAAC;AAAD,CAAC,AA7BD,IA6BC;AAED,SAAgB,IAAI,CAAI,SAAkB,EAAE,MAAiC;IAC3E,OAAO,IAAI,aAAa,CAAI,SAAS,EAAE,MAAM,CAAC,CAAC;AACjD,CAAC;AAFD,oBAEC","sourcesContent":["type QuandoResult<R> = R | undefined;\n\ninterface QuandoConditonal<R> {\n  result: QuandoResult<R>;\n  condition: Boolean;\n  elseWhen: (condition: Boolean, result: R) => QuandoConditonal<R>;\n  end: (result: R) => QuandoResult<R>;\n}\n\nclass WhenCondition<R> implements QuandoConditonal<R> {\n  condition: Boolean;\n  result: QuandoResult<R>;\n\n  constructor(condition: Boolean, result: R | (() => R) | undefined) {\n    this.condition = false;\n    this.updateResult(condition, result);\n  }\n  elseWhen(condition: Boolean, result: R | (() => R) | undefined) {\n    this.updateResult(condition, result);\n    return this;\n  }\n  end(defaultValue: R) {\n    if (this.condition) {\n      return this.result;\n    }\n    return defaultValue;\n  }\n\n  updateResult(condition: Boolean, result: R | (() => R) | undefined) {\n    if (!this.condition && condition) {\n      this.condition = condition;\n      if (result instanceof Function) {\n        this.result = result();\n      } else {\n        this.result = result;\n      }\n    }\n  }\n}\n\nexport function When<R>(condition: Boolean, result: R | (() => R) | undefined) {\n  return new WhenCondition<R>(condition, result);\n}\n"]}